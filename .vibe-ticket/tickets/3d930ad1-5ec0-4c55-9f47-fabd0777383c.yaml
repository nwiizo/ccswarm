id: 3d930ad1-5ec0-4c55-9f47-fabd0777383c
slug: 202508032153-ccswarm-subagent-integration
title: ccswarm サブエージェント統合仕様 - Claude Codeネイティブ機能への移行
description: |-
  # ccswarm サブエージェント統合仕様書

  ## 1. 概要

  本仕様書は、ccswarmプロジェクトをClaude Codeのネイティブサブエージェント機能を活用するように改修するための技術仕様を定義します。

  ### 背景

  現在のccswarmは独自のマルチエージェントシステムを実装していますが、Claude Codeの公式サブエージェント機能を使用することで、以下の利点が得られます：

  - **コンテキスト管理の改善**: 各サブエージェントが独立したコンテキストウィンドウを持つ
  - **システムの簡素化**: Claude Codeの組み込み機能を活用することで、実装の複雑さを軽減
  - **パフォーマンス向上**: ネイティブサポートによる効率的なタスク委譲
  - **保守性の向上**: 公式APIに準拠することで、将来的なアップデートへの対応が容易

  ### 移行方針

  - **段階的移行**: 既存機能を維持しながら、段階的にサブエージェント機能へ移行
  - **後方互換性**: 既存のccswarm.json設定ファイルとの互換性を維持
  - **ハイブリッドモード**: 従来のエージェントとサブエージェントの併用をサポート

  ## 2. 主要な変更点

  ### Master Claudeの役割変更

  従来の直接的なエージェント制御から、サブエージェントの管理・調整役へ：

  - サブエージェント定義の自動生成
  - 動的サブエージェント作成
  - タスク分析と委譲
  - 進捗モニタリング

  ### エージェントシステムの移行

  現在のエージェント実装をClaude Codeサブエージェントへ移行し、.claude/agents/ディレクトリで管理

  ## 3. 実装計画

  ### フェーズ1: 基盤整備（2週間）
  - Claude Codeサブエージェント形式のパーサー実装
  - サブエージェント管理コマンドの実装
  - 既存エージェントからサブエージェント定義への変換ツール

  ### フェーズ2: 統合実装（3週間）
  - Master Claudeのサブエージェント委譲機能
  - ai-sessionとの統合
  - 動的サブエージェント生成機能

  ### フェーズ3: 移行とテスト（2週間）
  - 既存プロジェクトの移行ツール
  - 包括的なテストスイート
  - パフォーマンス最適化

  ### フェーズ4: ドキュメント更新（1週間）
  - ユーザーガイドの更新
  - APIドキュメントの更新
  - 移行ガイドの作成

  ## 4. 期待される効果

  - コンテキスト効率の改善
  - 並列処理能力の向上
  - メモリ使用量の削減
  - 開発体験の向上
  - 保守性の向上

  詳細な仕様は別途ドキュメントを参照
priority: critical
status: todo
tags:
- architecture
- refactoring
- claude-code
- integration
created_at: 2025-08-03T12:53:56.202196Z
started_at: null
closed_at: null
assignee: null
tasks: []
metadata: {}
